<nav class="navbar">
    <div class="navbar-brand" routerLink="/dashboard">
      <svg class="logo-icon" viewBox="0 0 24 24">
        <path fill="currentColor" d="M12,3L2,12H5V20H19V12H22L12,3M12,7.7C14.1,7.7 15.8,9.4 15.8,11.5C15.8,13.6 14.1,15.3 12,15.3C9.9,15.3 8.2,13.6 8.2,11.5C8.2,9.4 9.9,7.7 12,7.7M7,17V18H17V17C17,15.3 15.7,14 14,14H10C8.3,14 7,15.3 7,17Z" />
      </svg>
      <h1>Aether<span>Mind</span></h1>
    </div>
    
    <div class="navbar-search">
      <mat-form-field class="search-field" appearance="fill">
        <mat-icon matPrefix>search</mat-icon>
        <input 
          matInput 
          [(ngModel)]="searchQuery"
          (input)="onSearch()"
          placeholder="{{ currentPlaceholder }}"
          (ngModelChange)="searchSubject.next($event)"
        />
        <button 
          mat-icon-button 
          matSuffix 
          *ngIf="searchQuery" 
          (click)="clearSearch()"
          aria-label="Clear search"
        >
          <mat-icon>close</mat-icon>
        </button>
      </mat-form-field>
    </div>
    
    <div class="navbar-actions">
      <div class="user-profile" (click)="toggleDropdown()">
        <img [src]="user?.avatar || 'https://randomuser.me/api/portraits/men/32.jpg'" alt="User profile">
        <span class="username">{{this.user?.username || 'Guest'}}</span>
        <mat-icon>arrow_drop_down</mat-icon>
        
        <div class="dropdown-menu" [class.show]="showDropdown">
          <div class="dropdown-item" (click)="viewProfile()">
            <mat-icon>account_circle</mat-icon>
            <span>Profile</span>
          </div>
          <div class="dropdown-item" (click)="logout()">
            <mat-icon>logout</mat-icon>
            <span>Logout</span>
          </div>
        </div>
      </div>
    </div>
  </nav>